html {
  --theme-primary: #210423;
  --theme-highlight: #3b0c52;
  --theme-background: #b2b8c0;
  --theme-black: #101010;

  /*
    these spacings can be added to the corresponding font sizes to
    pad the vertical space up to the next highest size
  */
  --vertical-spacing-very-small: 0.125rem;
  --vertical-spacing-small: 0.25rem;
  --vertical-spacing-medium: 0.5rem;
  --vertical-spacing-big: 1rem;

  --font-size-very-small: 0.75rem;   /* 12px */
  --font-size-quite-small: 0.875rem; /* 14px */
  --font-size-small: 1rem;           /* 16px */
  --font-size-smallish: 1.125rem;    /* 18px */
  --font-size-medium: 1.25rem;       /* 20px */
  --font-size-quite-big: 1.5rem;     /* 24px */
  --font-size-big: 2rem;             /* 32px */
  --font-size-very-big: 2.5rem;      /* 40px */
  --font-size-very-very-big: 3rem;   /* 48px */
  --font-size-giant: 3.75rem;        /* 60px */

  --vertical-space-2: calc(var(--font-size-medium) * 1.5 * 2);
  --vertical-space-3: calc(var(--font-size-medium) * 1.5 * 3);
  --vertical-space-4: calc(var(--font-size-medium) * 1.5 * 4);

  /*
    These spacings preserve vertical rhythm when mixing paragraphs and headings
    We want to avoid the headers pushing paragraph lines off the vertical grid
    where the base unit is the paragraph line height: 1.5*1.25rem = 1.875rem
    For the heading height to be equivalent to 2 lines we need total height of 3.75rem
  */

  --fixed-spacing-small: 8px;

  --text-padding-very-small: 0.5ch;
  --text-padding-small: 0.5lh 1ch;
  --text-padding-medium: 0.5lh 1.5ch;

  --max-line-width: 100ch;
}

body {
  color: var(--theme-primary);
  background-color: var(--theme-background);
  font-size: var(--font-size-medium);
  line-height: 1.5; /* 30px */
  padding: 0;
  margin: 0;
}

html { height: 100%;}

p {
  margin-top: calc(var(--font-size-medium) * 0.5);
  margin-bottom: calc(var(--font-size-medium) * 1.5);

  overflow-wrap: break-word;
  hyphens: auto;
}

/*
  H1 has a big margin either side, so remove margins
  from the following element.
*/
h1 {
  font-size: var(--font-size-very-very-big);
  font-weight: bold;
  margin-top: calc((var(--vertical-space-4) - var(--font-size-very-very-big)) / 2);
  margin-bottom: calc((var(--vertical-space-4) - var(--font-size-very-very-big)) / 2);
}

h1 + * {
  margin-top: 0;
}

/*
  Other headings just have top margins.
  They all take up 2 lines of text.
*/
h2 {
  font-size: var(--font-size-very-big);
  font-weight: bold;
  margin-bottom: 0;
  margin-top: calc(var(--vertical-space-2) - var(--font-size-very-big));
  margin-bottom: 0;
}

h3 {
  font-size: var(--font-size-big);
  font-weight: bold;
  margin-top: calc(var(--vertical-space-2) - var(--font-size-big));
  margin-bottom: 0;
}

h4 {
  font-size: var(--font-size-quite-big);
  margin-top: calc(var(--vertical-space-2) - var(--font-size-quite-big));
  margin-bottom: 0;
  font-weight: bold;

}

h5 {
  font-size: var(--font-size-medium);
  margin-top: calc(var(--vertical-space-2) - var(--font-size-medium));
  margin-bottom: 0;
  font-weight: 900;
}

h6 {
  font-size: var(--font-size-smallish);
  margin-top: calc(var(--vertical-space-2) - var(--font-size-smallish));
  margin-bottom: 0;
  font-weight: 900;
}

/*
A layout where the first child acts as a sidebar on wide screens,
and a footer on narrow screens.

Usage:

<div class="optional-sidebar-layout">
  <nav></nav>
  <article></article>
</div>
*/
.optional-sidebar-layout {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap-reverse;
}

header {
  background-color: var(--theme-black);
  color: var(--theme-background);
  padding: var(--text-padding-small);
}

header nav a {
  color: var(--theme-background);
}

.optional-sidebar-layout > nav {
  flex: 1 25ch;
  color: var(--theme-background);
  background-color: var(--theme-primary);
  padding: var(--text-padding-small);
}

.optional-sidebar-layout > article {
  flex: 3 80ch;
  padding: var(--text-padding-medium);
  max-inline-size: var(--max-line-width);
  font-size: var(--font-size-quite-big);
}

.navigation-list {
  list-style-type: none;
  font-size: var(--font-size-medium);
  margin: 0;
  padding: 0;
}

.navigation-list {
  margin-left: var(--fixed-spacing-small);
  margin-bottom: var(--fixed-spacing-small);
}

.horizontal-list {
  display: flex;
  list-style-type: none;
  margin: 0;
  padding: 0;
  flex-direction: row;
  justify-content: flex-end;
  gap: 3ch;
  flex-wrap: wrap;
}

.horizontal-list li {
  display: block;
  background-color: var(--theme-primary);
  flex-shrink: 1;
  padding: var(--text-padding-very-small);
}

.skip-link {
  position: absolute;
  z-index: 999;
  left: -9999px;
  opacity: 0;
  padding: 1rem;
  background-color: var(--theme-primary);
  color: var(--theme-background);
}

.skip-link:focus {
  left: 50%;
  transform: translateX(-50%);
  opacity: 1;
}

.horizontal-list li.selected {
  background-color: var(--theme-highlight);
}

.horizontal-list li.selected a {
  text-decoration: none;
}

nav a {
  color: var(--theme-background);
}

nav h1 {
  font-size: var(--font-size-quite-big);
  margin-bottom: 0;
  margin-top: 0.5lh;
}

nav h1:first-child {
  margin-top: 0;
}

nav h2, nav h3, nav h4, nav h5 {
  font-size: var(--font-size-medium);
  margin-bottom: 0;
  margin-top: 0.5lh;
}

nav h2:first-child, h3:first-child, h4:first-child, h5:first-child {
  margin-top: 0;
}

.full-height-with-header {
  display: flex;
  height: 100%;
  flex-direction: column;
}

.full-height-with-header .optional-sidebar-layout {
  flex-grow: 1;
}
